define(["require","exports","CPU"],function(n,t,i){function e(){for(var n=0;n<4096;n++)r.memory[n]=f[n]}var o=i,r=new o.Cpu,f,u;$(document).ready(function(){var n={registers:r.debug_registers,I:r.debug_i,PC:r.debug_pc,SP:r.debug_sp};r.registers.forEach(function(t,i){n.registers.push({index:i.toString(16).toUpperCase(),value:t})}),n.PC(r.PC.toString(16)),n.I(r.I.toString(16)),n.SP(r.SP.toString(16)),r.memory[512]=96,r.memory[513]=18,r.memory[514]=96,r.memory[515]=66,r.memory[516]=36,r.memory[517]=4,r.memory[1028]=166,r.memory[1029]=0,r.memory[1030]=0,r.memory[1031]=238,r.memory[518]=245,r.memory[519]=101,r.memory[520]=133,r.memory[521]=48,r.memory[522]=133,r.memory[523]=68,r.memory[1536]=1,r.memory[1537]=2,r.memory[1538]=3,r.memory[1539]=4,r.memory[1540]=5,f=r.memory.slice(0),r.onHalt.subscribe(function(){r.reset(),e()}),ko.applyBindings(n)}),u=null,$("#startstop").click(function(){u?(clearInterval(u),u=null):u=setInterval(function(){r.cycle()},16)}),$("#cycle").click(function(){r.cycle()}),$("#reset").click(function(){r.reset(),e()})})