define(["require","exports","chip8/event"],function(n,t,i){var r=i,u;(function(n){var t=function(){function n(n,t){typeof n=="undefined"&&(n=64),typeof t=="undefined"&&(t=32),this.width=n,this.height=t,this.onDraw=new r.chip8.Event,this.onClear=new r.chip8.Event,this.clear()}return n.prototype.clear=function(){this._pixels=[];for(var n=0;n<this.width*this.height;n++)this._pixels[n]=0;this.onClear.raise()},n.prototype.draw=function(n,t,i){for(var h=this.width,c=this.height,e=0,f,u,o,s,r=0;r<i.length;r++)for(f=i[r],u=7;u>=0;u--)o=f&1,s=this.setPixel(n+u,t+r,o),s===0&&(e=1),f>>=1;return this.onDraw.raise(),e},n.prototype.setPixel=function(n,t,i){while(n>=this.width)n-=this.width;while(t>=this.height)t-=this.height;var r=n+t*this.width,u=this._pixels[r];return this._pixels[r]=u^i,u===this._pixels[r]?-1:this._pixels[r]},n.prototype.getPixels=function(){return this._pixels.slice(0)},n}();n.Screen=t})(t.chip8||(t.chip8={})),u=t.chip8})